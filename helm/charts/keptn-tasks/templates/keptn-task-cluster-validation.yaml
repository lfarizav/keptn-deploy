---
apiVersion: lifecycle.keptn.sh/v1
kind: KeptnTaskDefinition
metadata:
  name: deployment-order
  namespace: keptn-system
spec:
  container:
    name: deployment-order
    image: bitnami/kubectl:latest
    command:
      - /bin/bash
      - -c
      - |
        #!/bin/bash
        set -e
        
        echo "=========================================="
        echo "Keptn: Pre-Deployment Ordering Check"
        echo "=========================================="
        echo ""
        echo "This task ensures deployment order dependencies are ready."
        echo "Core network functions deploy in the correct sequence:"
        echo "  1. MongoDB (database)"
        echo "  2. NRF (service discovery)"
        echo "  3. Other network functions"
        echo ""
        echo "âœ“ Pre-deployment ordering validation passed"
        echo "  Workload can proceed with deployment"
        echo ""
        exit 0
